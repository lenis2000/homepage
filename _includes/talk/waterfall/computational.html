<section class="slide slide-top" id="computational" data-title="Computational Methods">
    <h2 class="slide-title">Exact Sampling in your browser (and your phone)</h2>

    <div style="background: #fff8f0; border-left: 4px solid #E57200; padding: 1.5vh 2vw; margin: 1vh 2vw 0; font-size: clamp(1.3rem, 2.4vw, 2rem); font-weight: bold; color: #232D4B;">
        This talk works in a browser 
				(JS, C++/Webassembly, WebGPU) and is a live demo.
				<br>
				Most pictures were generated on-the-fly!
    </div>

    <div style="display: grid; grid-template-columns: 48vw 44vw; gap: 2vw; margin-top: 2vh; padding: 0 2vw;">
        <!-- Left column: CFTP and pipeline -->
        <div style="display: flex; flex-direction: column; gap: 2vh; font-size: clamp(1.2rem, 2.2vw, 1.8rem);">
            <!-- CFTP -->
            <div id="comp-cftp" style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1.5vh 1.5vw; text-align: left; opacity: 0; transition: opacity 0.3s;">
                <strong style="color: var(--slide-accent);">Coupling From The Past (CFTP)</strong>
                <span style="color: var(--slide-muted);">[Propp–Wilson 1996]</span>
                <ul style="margin: 0.5vh 0 0 1.2em; padding: 0;">
                    <li>Run Markov chain from <strong>all possible initial states</strong> simultaneously</li>
                    <li>When all chains <strong>couple</strong> (agree), stop</li>
                    <li>Output is an <strong>exact</strong> sample from the stationary distribution</li>
                </ul>
            </div>

            <!-- Monotone coupling -->
            <div id="comp-why-works" style="background: #f5f5f5; border-left: 4px solid var(--slide-navy); padding: 1.5vh 1.5vw; text-align: left; opacity: 0; transition: opacity 0.3s;">
                <strong style="color: var(--slide-navy);">Why it (sometimes) works in our case:</strong>
                <div style="margin-top: 0.5vh;">
									3D surfaces are <strong>partially ordered</strong> by height function, and Markov chain updates are <strong>monotone</strong> with respect to this order. It suffices to track two
extreme chains (maximal and minimal).
                </div>
            </div>

            <!-- Why it does not work -->
            <div id="comp-why-fails" style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1.5vh 1.5vw; text-align: left; opacity: 0; transition: opacity 0.3s;">
                <strong style="color: var(--slide-accent);">Why it does not work for waterfalls:</strong>
                <div style="margin-top: 0.5vh;">
                    The final few steps involve horizontal lozenges crossing the waterfall "dead zone", which is <strong>exponentially rare</strong> <span style="color: var(--slide-muted);">[Knizel–P. 2025]</span>. Hence CFTP cannot provide an exact sample fast.
                </div>
                <div style="margin-top: 1vh;">
                    <strong style="color: var(--slide-navy);">To the rescue</strong> <span style="color: var(--slide-muted);">[Borodin–Gorin–Rains 2009]</span>: special algebraic structure (commuting Markov operators) allows to sample exactly.
                </div>
            </div>
        </div>

        <!-- Right column: 3D simulation canvas -->
        <div style="display: flex; flex-direction: column; gap: 1vh; align-items: center;">
            <canvas id="comp-sim-canvas" width="1200" height="800" style="height: 52vh; width: auto; border-radius: 8px;"></canvas>
            <div id="comp-sim-status" style="font-size: clamp(0.75rem, 1vw, 1rem); color: var(--slide-muted); min-height: 1.5em;"></div>
        </div>
    </div>
</section>
