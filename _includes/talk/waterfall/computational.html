<section class="slide slide-top" id="computational" data-title="Computational Methods">
    <h2 class="slide-title">Exact Sampling in Your Browser</h2>

    <div style="display: grid; grid-template-columns: 48vw 44vw; gap: 2vw; margin-top: 2vh; padding: 0 2vw;">
        <!-- Left column: CFTP and pipeline -->
        <div style="display: flex; flex-direction: column; gap: 2vh; font-size: clamp(1.2rem, 2.2vw, 1.8rem);">
            <!-- CFTP -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1.5vh 1.5vw; text-align: left;">
                <strong style="color: var(--slide-accent);">Coupling From The Past (CFTP)</strong>
                <span style="color: var(--slide-muted);">[Propp–Wilson 1996]</span>
                <ul style="margin: 0.5vh 0 0 1.2em; padding: 0;">
                    <li>Run Markov chain from <strong>all possible initial states</strong> simultaneously</li>
                    <li>When all chains <strong>couple</strong> (agree), stop</li>
                    <li>Output is an <strong>exact</strong> sample from the stationary distribution — no burn-in bias</li>
                </ul>
            </div>

            <!-- Monotone coupling -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-navy); padding: 1.5vh 1.5vw; text-align: left;">
                <strong style="color: var(--slide-navy);">Why it works for tilings:</strong>
                <div style="margin-top: 0.5vh;">
                    The noncolliding paths have a natural <strong>partial order</strong> (highest/lowest paths).
                    Glauber dynamics respects monotonicity, so we only track <strong>two</strong> extremal chains
                    <span style="color: var(--slide-muted);">[Wilson 2004]</span>
                </div>
            </div>

            <!-- WASM pipeline -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1.5vh 1.5vw; text-align: left;">
                <strong style="color: var(--slide-accent);">Compilation pipeline:</strong>
                <div style="margin-top: 1vh; text-align: center;">
                    <div style="display: flex; align-items: center; justify-content: center; gap: 1vw; flex-wrap: wrap;">
                        <div style="background: #232D4B; color: white; padding: 0.5vh 1vw; border-radius: 4px; font-weight: bold;">C++</div>
                        <span style="font-size: 1.5em;">→</span>
                        <div style="background: #232D4B; color: white; padding: 0.5vh 1vw; border-radius: 4px; font-weight: bold;">Emscripten</div>
                        <span style="font-size: 1.5em;">→</span>
                        <div style="background: #E57200; color: white; padding: 0.5vh 1vw; border-radius: 4px; font-weight: bold;">WebAssembly</div>
                        <span style="font-size: 1.5em;">→</span>
                        <div style="background: #E57200; color: white; padding: 0.5vh 1vw; border-radius: 4px; font-weight: bold;">Browser</div>
                    </div>
                </div>
                <div style="margin-top: 1vh;">
                    Near-native performance in the browser. All simulations in this talk run live.
                </div>
            </div>
        </div>

        <!-- Right column: Try it yourself + images -->
        <div style="display: flex; flex-direction: column; gap: 2vh; align-items: center;">
            <!-- Screenshot/demo image -->
            <div style="position: relative;">
                <img src="images/hexagon.png" alt="Sample lozenge tiling" style="height: 38vh; width: auto; border-radius: 8px; border: 1px solid #ccc;">
                <div style="position: absolute; top: 0.5vh; right: 0.5vw; background: rgba(229, 114, 0, 0.9); color: white; padding: 0.3vh 0.6vw; border-radius: 3px; font-size: clamp(0.7rem, 1.2vw, 1rem); font-weight: bold;">pre-sampled</div>
            </div>

            <!-- Try it yourself -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1.5vh 1.5vw; text-align: left; font-size: clamp(1.2rem, 2.2vw, 1.8rem); width: 100%;">
                <strong style="color: var(--slide-accent);">Try it yourself:</strong>
                <div style="margin-top: 1vh; display: flex; align-items: center; gap: 2vw;">
                    <div>
                        <a href="https://lpetrov.cc/lozenge/" target="_blank" style="color: var(--slide-accent); font-size: clamp(1.3rem, 2.2vw, 1.8rem); font-weight: 600;">lpetrov.cc/lozenge</a>
                        <div style="margin-top: 0.5vh; font-size: clamp(1rem, 1.8vw, 1.4rem); color: #555;">
                            Interactive q-Racah sampling with WebGPU acceleration
                        </div>
                        <a href="https://lpetrov.cc/lozenge-draw/" target="_blank" style="color: var(--slide-accent); font-size: clamp(1.3rem, 2.2vw, 1.8rem); font-weight: 600; display: block; margin-top: 0.5vh;">lpetrov.cc/lozenge-draw</a>
                        <div style="margin-top: 0.5vh; font-size: clamp(1rem, 1.8vw, 1.4rem); color: #555;">
                            Draw any shape and stack with boxes
                        </div>
                    </div>
                    <img src="images/qr-lozenge.png" alt="QR code" style="height: 14vh; width: auto;">
                </div>
            </div>

            <!-- Performance note -->
            <div style="font-size: clamp(1rem, 1.8vw, 1.4rem); color: var(--slide-muted); text-align: center;">
                All simulations in this talk run live in the browser via WASM
            </div>
        </div>
    </div>
</section>
