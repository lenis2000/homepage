<section class="slide slide-top" id="q-volume" data-title="Q-volume deformation">
    <h2 class="slide-title">Q-volume deformation</h2>
    <!-- Top: Five tilings with q inputs -->
    <div style="display: flex; gap: 0.8vw; justify-content: center; margin-top: 1vh;">
        <div style="display: flex; flex-direction: column; align-items: center; width: 16vw;">
            <canvas id="qvol-canvas-0" width="400" height="400" style="width: 16vw; height: 16vw; border: 1px solid #ccc;"></canvas>
            <div style="font-size: clamp(0.8rem, 1.2vw, 1rem); margin-top: 0.5vh; display: flex; justify-content: center; align-items: center;">q = <input type="text" id="qvol-input-0" value="0.7" style="width: 3em; text-align: center; font-size: inherit; border: 1px solid #ccc; border-radius: 3px; margin-left: 0.3em;"></div>
        </div>
        <div style="display: flex; flex-direction: column; align-items: center; width: 16vw;">
            <canvas id="qvol-canvas-1" width="400" height="400" style="width: 16vw; height: 16vw; border: 1px solid #ccc;"></canvas>
            <div style="font-size: clamp(0.8rem, 1.2vw, 1rem); margin-top: 0.5vh; display: flex; justify-content: center; align-items: center;">q = <input type="text" id="qvol-input-1" value="0.9" style="width: 3em; text-align: center; font-size: inherit; border: 1px solid #ccc; border-radius: 3px; margin-left: 0.3em;"></div>
        </div>
        <div style="display: flex; flex-direction: column; align-items: center; width: 16vw;">
            <canvas id="qvol-canvas-2" width="400" height="400" style="width: 16vw; height: 16vw; border: 1px solid #ccc;"></canvas>
            <div style="font-size: clamp(0.8rem, 1.2vw, 1rem); margin-top: 0.5vh; display: flex; justify-content: center; align-items: center;">q = <input type="text" id="qvol-input-2" value="1" style="width: 3em; text-align: center; font-size: inherit; border: 1px solid #ccc; border-radius: 3px; margin-left: 0.3em;"></div>
        </div>
        <div style="display: flex; flex-direction: column; align-items: center; width: 16vw;">
            <canvas id="qvol-canvas-3" width="400" height="400" style="width: 16vw; height: 16vw; border: 1px solid #ccc;"></canvas>
            <div style="font-size: clamp(0.8rem, 1.2vw, 1rem); margin-top: 0.5vh; display: flex; justify-content: center; align-items: center;">q = <input type="text" id="qvol-input-3" value="1.1" style="width: 3em; text-align: center; font-size: inherit; border: 1px solid #ccc; border-radius: 3px; margin-left: 0.3em;"></div>
        </div>
        <div style="display: flex; flex-direction: column; align-items: center; width: 16vw;">
            <canvas id="qvol-canvas-4" width="400" height="400" style="width: 16vw; height: 16vw; border: 1px solid #ccc;"></canvas>
            <div style="font-size: clamp(0.8rem, 1.2vw, 1rem); margin-top: 0.5vh; display: flex; justify-content: center; align-items: center;">q = <input type="text" id="qvol-input-4" value="1.4" style="width: 3em; text-align: center; font-size: inherit; border: 1px solid #ccc; border-radius: 3px; margin-left: 0.3em;"></div>
        </div>
    </div>

    <!-- Resample button - smaller, outline style -->
    <div style="margin-top: 1.5vh; text-align: center;">
        <button id="qvol-sample-btn" style="padding: 0.3em 1em; cursor: pointer; border: 1px solid #888; background: #fff; color: #555; border-radius: 3px; font-size: clamp(1rem, 1.5vw, 1.2rem);">Re-sample All</button>
    </div>

    <!-- Bottom: Content sections -->
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2vw; margin-top: 2vh; padding: 0 2vw;">
        <!-- Left column -->
        <div style="display: flex; flex-direction: column; gap: 1.5vh;">
            <!-- Probability formula -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1vh 1.5vw; font-size: clamp(1.2rem, 2.2vw, 1.8rem); text-align: left;">
                \(\displaystyle \text{Probability} = \frac{q^{\text{volume}}}{\sum_{\text{all surfaces}} q^{\text{volume}}}\)
            </div>
            <!-- Variational principle -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1vh 1.5vw; text-align: left;">
                <div style="font-size: clamp(1.2rem, 2.2vw, 1.8rem); color: var(--slide-accent); margin-bottom: 0.5vh;">
                    <strong>Variational principle</strong> <span style="font-size: 0.8em; color: #555;">(\(q = e^{-\gamma/N}\))</span>
                </div>
                <div style="font-size: clamp(1.1rem, 2vw, 1.6rem);">
                    Maximize \(\displaystyle \iint \sigma \, dx\,dy - \gamma \iint f \, dx\,dy\)
                </div>
                <div style="font-size: clamp(1rem, 1.8vw, 1.4rem); color: #555; margin-top: 0.5vh;">
                    \(\gamma>0\): tilts toward less volume<br>
                    \(\gamma<0\): tilts toward more volume
                </div>
            </div>
            <!-- Local universality -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1vh 1.5vw; text-align: left;">
                <div style="font-size: clamp(1.1rem, 2vw, 1.6rem);">
                    <strong style="color: var(--slide-accent);">Local statistics:</strong> still the <strong>same pure states</strong> determined by slope (as for uniform \(q=1\))
                </div>
            </div>
        </div>

        <!-- Right column -->
        <div style="display: flex; flex-direction: column; gap: 1.5vh;">
            <!-- Entropy vs Energy -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1vh 1.5vw; text-align: left;">
                <div style="font-size: clamp(1.2rem, 2.2vw, 1.8rem); color: var(--slide-accent); margin-bottom: 0.5vh;">
                    <strong>Entropy vs Energy</strong> <span style="font-size: 0.8em; color: #555;">(assume \(q < 1\))</span>
                </div>
                <ul style="margin: 0.3vh 0 0 1.2em; padding: 0; font-size: clamp(1rem, 1.8vw, 1.4rem);">
                    <li>Most weight when empty — but only 1 configuration</li>
                    <li>Adding cubes increases volume (lowers <strong>energy</strong>), but also increases configurations (raises <strong>entropy</strong>)</li>
                    <li>Balance determines the typical (limit) shape</li>
                </ul>
            </div>
            <!-- Limit shape degeneration note -->
            <div style="background: #f5f5f5; border-left: 4px solid var(--slide-accent); padding: 1vh 1.5vw; text-align: left;">
                <div style="font-size: clamp(1.1rem, 2vw, 1.6rem);">
                    <strong style="color: var(--slide-accent);">Fixed \(q \neq 1\) as \(N \to \infty\):</strong>
                    limit shape degenerates to <em>empty room</em> (\(q<1\)) or <em>full room</em> (\(q>1\)) — the volume term dominates in the variational principle
                </div>
            </div>
        </div>
    </div>

</section>
